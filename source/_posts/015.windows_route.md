---
title: windows添加删除路由
date: 2022-5-31 14:29:13
categories: 
- [NetWork]
tags: 
- 路由
- windows
---

> 经常遇到这种场景, 网线上内网, 无线上外网. 
windows下, 一般来说网线的优先级会大于无线, 有时候也有相反的情况.
> 总之, 在这种场景下我们的上网体验会很糟糕
> 解决方法还是有的, 修改windows的默认路由即可.


```
[D:\~]$ {% label success@route print -4%}
===========================================================================
接口列表
 11...ce b0 da b4 4f 9d ......Microsoft Wi-Fi Direct Virtual Adapter
 13...de b0 da b4 4f 9d ......Microsoft Wi-Fi Direct Virtual Adapter #2
  5...00 50 56 c0 00 01 ......VMware Virtual Ethernet Adapter for VMnet1
  6...00 50 56 c0 00 08 ......VMware Virtual Ethernet Adapter for VMnet8
 16...ce b0 b3 b4 c3 f5 ......Qualcomm Atheros QCA9377 Wireless Network Adapter
 17...cc b0 da b4 4f 9e ......Bluetooth Device (Personal Area Network)
  1...........................Software Loopback Interface 1
===========================================================================

IPv4 路由表
===========================================================================
活动路由:
网络目标        网络掩码          网关       接口   跃点数
          0.0.0.0          0.0.0.0    192.168.110.1  192.168.110.241     45
        127.0.0.0        255.0.0.0            在链路上         127.0.0.1    331
        127.0.0.1  255.255.255.255            在链路上         127.0.0.1    331
  127.255.255.255  255.255.255.255            在链路上         127.0.0.1    331
     192.168.64.0    255.255.255.0            在链路上      192.168.64.1    291
     192.168.64.1  255.255.255.255            在链路上      192.168.64.1    291
   192.168.64.255  255.255.255.255            在链路上      192.168.64.1    291
    192.168.110.0    255.255.255.0            在链路上   192.168.110.241    301
  192.168.110.241  255.255.255.255            在链路上   192.168.110.241    301
  192.168.110.255  255.255.255.255            在链路上   192.168.110.241    301
    192.168.128.0    255.255.255.0            在链路上     192.168.128.1    291
    192.168.128.1  255.255.255.255            在链路上     192.168.128.1    291
  192.168.128.255  255.255.255.255            在链路上     192.168.128.1    291
        224.0.0.0        240.0.0.0            在链路上         127.0.0.1    331
        224.0.0.0        240.0.0.0            在链路上      192.168.64.1    291
        224.0.0.0        240.0.0.0            在链路上     192.168.128.1    291
        224.0.0.0        240.0.0.0            在链路上   192.168.110.241    301
  255.255.255.255  255.255.255.255            在链路上         127.0.0.1    331
  255.255.255.255  255.255.255.255            在链路上      192.168.64.1    291
  255.255.255.255  255.255.255.255            在链路上     192.168.128.1    291
  255.255.255.255  255.255.255.255            在链路上   192.168.110.241    301
===========================================================================
永久路由:
  无

```

``` 
ROUTE [-f] [-p] [-4|-6] command [destination]
                  [MASK netmask]  [gateway] [METRIC metric]  [IF interface]

  -f            清除所有网关项的路由表。

  -p           永久路由。

  -4           强制使用 IPv4。

  -6           强制使用 IPv6。

  command      其中之一:
                 PRINT     打印路由
                 ADD       添加路由
                 DELETE    删除路由
                 CHANGE    修改现有路由
  destination  指定主机。
  MASK         指定下一个参数为“netmask”值。
  netmask      指定此路由项的子网掩码值。
               如果未指定，其默认设置为 255.255.255.255。
  gateway      指定网关。
  interface    指定路由的接口号码。
  METRIC       指定跃点数，例如目标的成本。
```


示例 :

1)  添加网络 10.0.0.0/8  下一跳为 10.0.0.1 (临时路由, 重启失效)
``` route add 10.0.0.0 mask 255.0.0.0 10.0.0.1 ```

2)  添加网络 10.0.0.0/8  下一跳为 10.0.0.1 (永久路由, 重启不失效)
``` route -p add 10.0.0.0 mask 255.0.0.0 10.0.0.1 ```

3) 删除网络 10.0.0.0/8 
``` route delete 10.0.0.0 mask 255.0.0.0```

4)  添加网络 192.168.1.0/24 下一跳 192.168.1.1 跳跃数为3
``` route add 192.168.1.0 mask 255.255.255.0 192.168.1.1 metric 3 ```

5)  添加网络 192.168.1.0/24 下一跳 接口索引为 ox3
``` route add 192.168.1.0 mask 255.255.255.0 192.168.1.1 if 0x3```

6)  修改网络 192.168.1.0/24 的下一跳为 192.168.1.1254
``` route change 192.168.1.0 mask 255.255.255.0 192.168.1.1254 ```