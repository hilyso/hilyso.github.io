---
title: minikube
date: 2025-08-06 16:10:16
categories: 
- [K8S]
tags: 
- K8S
- minikube
---

## 一、 要求

- 2 cpus 
- 2GB mem 
- 20GB free disk space
- Internet connection
- Container or virtual machine managerw

### 1.1 实验环境

- Debian Linux 12
- 4 cpus
- 4GB mem
- 100GB free disk space

## 二、 Minikube 安装

### 2.1 Debian package

  ``` bash
  curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube_latest_amd64.deb
  ```
  `sudo dpkg -i minikube_latest_amd64.deb`

### 2.2 使用 minikube 创建 k8s 集群

> 创建集群前需要有 Docker 环境, 如果 Docker 是 root 身份运行的, 需要指定 `--force`

  `minikube start --force`


## 三、 安装 kubectl

### 3.1 Linux 下使用二进制方式安装

  ``` bash 
  curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
  ```
  `chmod +x kubectl && mv kubectl /usr/local/bin/`
  `kubectl get pods -A`

如果不想安装 `kubectl` 还可以使用 `alias` 创建别名

  `minikube kubectl -- get po -A` 
  `alias kubectl="minikube kubectl --"`


### 3.2 Minikube 常用命令


|命令 | 功能|
|--|--|
|`minikube status`| 查看状态|
|`minikube stop` |停止集群|
|`minikube start` | 启动集群|
|`minikube pause`  |不影响已部署应用程序的情况下暂停 Kubernetes|
|`minikube unpause` | 恢复|
|`minikube config set memory 9001` |更改默认内存限制（需要重新启动）|
|`minikube addons list` | 插件列表|
|`minikube addons enable ingress` | 启用 ingress 插件|
|`minikube start -p aged --kubernetes-version=v1.16.1` |创建一个其他版本的 k8s 集群|
|`minikube delete --all`| 删除所有 minikube 集群|